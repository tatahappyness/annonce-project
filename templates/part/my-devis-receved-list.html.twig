{% extends  'base.html.twig' %}

    {% block stylesheets %}

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />-->
    <script src="https://cdn.linearicons.com/free/1.0.0/svgembedder.min.js"></script>
    <link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">
    <!-- CSS Files -->
    <link href="{{ absolute_url('/assets/sweetalert2/dist/sweetalert2.min.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/assets/css/now-ui-kit.min.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/assets/css/bootstrap.min.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/animate/animate.min.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/assets/loadbar/css/loading-bar.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/assets/select2-develop/dist/css/select2.min.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/assets/swiper/dist/css/swiper.min.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/assets/form-multistep/form-step.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/css/loading.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/css/loading-btn.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/assets/menu/menu-large.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/assets/menu/menu-mobile.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/assets/autocomplete/autocomplete.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/assets/carousel/slid.css') }}" rel="stylesheet" />
    <link href="{{ absolute_url('/css/style.css') }}" rel="stylesheet" />
    
{% endblock %}

    {% block body %}
    
    <div class="page-header page-header-image-gallery">
        <div class="page-header-image animated pulse" data-parallax="true" style="background-image: url('/assets/img/photos/slide-inscription.jpg'); background-position: 0 50px !important;">
        </div>

        <!--Begin header-menu particulier space-->
        {% include "./part/menu/header-menu.html.twig" %}
        <!-- END left header-menu particulier space -->

        <!-- Begin for row content header parallax -->
        <div class="row d-flex justify-content-center font-weight-light">
            <!-- ############# Begin slide beside -->
            <div class="col-12 col-md-8" style="padding-top: 1em;">
                <div class="container border-0">
                    <div class="w-100 d-flex flex-column pb-4 justify-content-center">
                        <div class="h4 text-white text-uppercase">
                            Bienvenue dans l'espace particulier
                        </div>
                    </div>
                </div>
            </div>
            <!-- ############# End slide beside -->
        </div>
    </div>
    <!--END HEADER-->


    <div class="jumbotron bg-transparent">
        <main class="section-1 section-main bg-white">
            <!--Begin section  of the list ads by artisan-->
            <section class="bg-transparent mt-5">
                <div class="container">
                    <div Class="row d-flex justify-content-center">

                        <!--Begin left menu particulier space-->
                        {% include "./part/menu/left-menu.html.twig" %}
                        <!--END left menu particulier space-->

                        <div class="col-12 col-md-8">
                            <div class="contenair-content">	
                                <div class="content-container-right">
									
                                </div>
                                <div class="content-container-right">
									
                                    <!--Begin top menu total particulier space-->
                                    {% include "./part/menu/top-menu.html.twig" %}
                                    <!--END top menu total particulier space-->

                                    <!-- My Ask Project section Detail-->
                                    <div class="card">
                                        <div class="card-body">
                                            <span class="lnr lnr-chevron-right float-left text-warning font-weight-bold"></span><h6 class="card-title d-inline text-uppercase">DETAIL DE MA DEMANDE</h6>
                                            <div class="row border-top border-secondary">
                                                
                                                <div class="col-6 text-right text-secondary font-font-weight-bold">
                                                    <p>Date de dépôt:&nbsp; </p>
                                                    <p>Type: &nbsp;</p>
                                                    <p>Categorie: &nbsp;</p>
                                                    <p>Nature: &nbsp;</p>
                                                    {# <p>Début de projet:&nbsp;</p> #}
                                                    <p>Ville:&nbsp;</p>
                                                    {# <p>Statut:&nbsp;</p> #}
                                                </div> 
                                                <div class="col-6 text-secondary text-left">
                                                    <p>{{ detailDevis.getDateCrea() | date('d/m/y H:m:s') }}</p>
                                                    <p>{{ detailDevis.getTypeProject().getTitle() }}</p>
                                                    <p>{{ detailDevis.getCategoryId().getCategTitle() }}</p>
                                                    <p>{{ detailDevis.getNatureProject().getArticleTitle() }}</p>
                                                    {# <p>{{ 'Imédiate' }}</p> #}
                                                    <p>{{ detailDevis.getCity().getVilleNomReel() }}</p>
                                                    {# <p>validé</p> #}
                                                </div>                              
                                               
                                               
                                                <div class="col-12 text-left">
                                                    <p class="font-weight-bold text-secondary">>DESCRIPTION DE PROJET:</p>
                                                    <p>{{ detailDevis.getDetailProject() }}</p>
                                                </div>                                                                                                      
                                            </div>
                                        </div>
                                        <!-- <img class="card-img-bottom" src="..." alt="Card image cap"> -->
                                    </div>
                                    <!-- End My Ask Project section Detail -->
                                  
                                    <!-- My list devis receved section -->
                                    <div class="card">
                                    <div class="card-body">
                                        <span class="lnr lnr-chevron-right float-left text-dark font-weight-bold"></span><h6 class="card-title d-inline text-uppercase">Les professionnels qui ont accpté de repondre votre demande</h6>
                                            <ul class="list-group list-group-flush">
                                               
                                            {% if listProsAcceptDevis != null %}
                                                {% for listProsAcceptDev in listProsAcceptDevis %}
                                                
                                                    <li class="list-group-item list-item-particular-left list-project-particular-2 bg-transparent text-center">
                                                        <div class="d-flex flex-column flex-sm-row align-items-center justify-content-center justify-sm-content-around">
                                                            <div class="">
                                                                {% if listProsAcceptDev.getUserId().getLogo() != null %}
                                                                <img class="rounded-circle" src="{{ absolute_url('/assets/img/photos/' ~ listProsAcceptDev.getUserId().getLogo()) }} " style="width: 64px; height: auto;" style="height: 64px; width: 64px;"></img>
                                                                {% else %}
                                                                <span class="d-block"><span class="lnr lnr-mustache text-warning" style="font-size: 64px;"></span></span>
                                                                {% endif %}
                                                                <span class="d-block align-baseline py-2"><small class="text-warning"><a href="{{ path('show_detail_pro_page', {id: listProsAcceptDev.getUserId().getId()}) }}" class="btn-outline-warning text-decoration-none text-nowrap"> >visiter son blog</a></small></span>

                                                            </div>
                                                            <div class="">
                                                                <span class="d-block text-warning font-weight-bold"> {{ listProsAcceptDev.getUserId().getCompanyName() }} <small class="text-secondary text-capitalize font-weight-light">({{ listProsAcceptDev.getUserId().getFirstname() }})</small></span>
                                                                <span class="d-block">Mobile: <small class="text-secondary">{{ listProsAcceptDev.getUserId().getMobile() }}</small></span>
                                                                <span class="d-block">Mail: <small class="text-warning">{{ listProsAcceptDev.getUserId().getEmail() }}</small></span>
                                                            </div>
                                                            <div class="">
                                                                <span class="d-block"></span>
                                                               
                                                                    {% if nbDevisPros != null %}
                                                                    {% for key, nbDevisPro in nbDevisPros %}
                                                                        {% if key == listProsAcceptDev.getUserId().getId() %}
                                                                        <span class="d-block text-secondary">
                                                                        <small>
                                                                        {{ nbDevisPro ~ ' demandes de devis traitées' }}
                                                                        </small>
                                                                        </span>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                    {% else %}
                                                                        Ce pros n'a pas encore de demandes traitées!
                                                                    {% endif %}
                                                                    <!-- End list nobre devis pros -->

                                                                    {% if nbEvaluationPros != null %}
                                                                    {% for key, nbEvaluationPro in nbEvaluationPros %}
                                                                        {% if key == listProsAcceptDev.getUserId().getId() %}
                                                                        <span class="d-block text-secondary">
                                                                        <small>
                                                                        {{ nbEvaluationPro ~ ' avis reçus' }}
                                                                        </small>
                                                                        </span>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                    {% else %}
                                                                    <span class="d-block text-secondary"><small>Ce pro n'a pas encore reçus d'avis</small></span>
                                                                    {% endif %}

                                                                    {% for key, partIsEvaluatePro in partIsEvaluatePros %}
                                                                        {% if key == listProsAcceptDev.getUserId().getId() and partIsEvaluatePro == false %}
                                                                        <span class="d-block text-secondary">
                                                                        <small>
                                                                            <span class="d-block alert-danger text-danger px-1"><small>Vous n'avez pas encore évalué ce pro!</small></span>
                                                                            <span class="d-block small"><a data-id="{{ listProsAcceptDev.getUserId().getId() }}" class="btn btn-warning btn-show-form-add-avis">Donner mon avis</a></span>
                                                                        </small>
                                                                        </span>
                                                                        {% endif %}
                                                                    {% endfor %}
                                                                
                                                            </div>
                                                        
                                                            <span class="d-none btn-action-particular-2 animated slideInRight">
                                                                <span class="d-inline d-sm-block bg-dark p-2"><span class="lnr lnr-eye"></span></span>
                                                                <span class="d-inline d-sm-block bg-danger p-2"><span class="lnr lnr-trash"></span></span>
                                                            </span>
                                                        </div>
                                                    </li>
                                                {% endfor %}
                                            {% else %}
                                                Pas encore des professionnels qui acceptent votre demandes!
                                            {% endif %}
                                            </ul>
                                    </div>
                                    <!-- <img class="card-img-bottom" src="..." alt="Card image cap"> -->
                                    </div>
                                    <!-- End My list devis receverd section -->
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!--End section  of the list ads by artisan-->
        <!--Begin section  of the modal evaluation-->
        <section class="modal-evaluation">

            <!-- Modal -->
            <div class="modal fade" id="modal-form-evaluation" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">Evaluer un professionel</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                   <form id="form-add-evaluation">
                        <div class="d-flex flex-column align-items-center justify-content-center">
                            <div class="d-flex flex-row w-100 mt-2">
                                <input type="hidden" id="user_pros_id" class="user_pros_id" name="user_pros_id"/>
                            </div>
                            <div class="d-flex flex-row w-100">
                                <textarea class="message w-100 p-2" name="message_emoji" placeholder="Tapez un message ici..." style="border: 1px solid orange !important;"></textarea>
                            </div>
                            <div class="d-flex flex-row w-100 mt-2">
                                <input class="star w-100" name="star_emoji" placeholder="Je veux lui donner des étoils ici..." style="border: 0 !important;" />
                            </div>
                        </div>
                   </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                    <button type="button" class="btn btn-warning btn-record-evaluation">Enregistrer</button>
                </div>
                </div>
            </div>
            </div>

        </section>
        <!--End section  of the modal evaluation-->

        </main>

        {% include "./part/footer/footer.html.twig" %}

    </div>

    {% endblock %}

    {% block javascripts %}

    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>-->
    <!-- MESSAGE NTIFICATION -->
    <script src="{{ absolute_url('/assets/sweetalert2/dist/sweetalert2.all.min.js') }}"></script>
    <script src="{{ absolute_url('/assets/sweetalert2/dist/sweetalert2.min.js') }}"></script>
    <!--Local-->
    <script src="{{ absolute_url('/assets/loadbar/js/loading-bar.js') }}"></script>
    <script src="{{ absolute_url('/assets/js/core/jquery.min.js') }}"></script>
    <script src="{{ absolute_url('/assets/js/core/bootstrap.min.js') }}"></script>
    <script src="{{ absolute_url('/assets/js/now-ui-kit.min.js') }}"></script>
    <script src="{{ absolute_url('/assets/js/core/popper.min.js') }}"></script>
    <script src="{{ absolute_url('/assets/js/plugins/bootstrap-switch.js') }}"></script>
    <script src="{{ absolute_url('/assets/js/plugins/nouislider.min.js') }}"></script>
    <script src="{{ absolute_url('/assets/swiper/dist/js/swiper.min.js') }}"></script>
    <script src="{{ absolute_url('/assets/select2-develop/dist/js/select2.full.min.js') }}"></script>
    <script src="{{ absolute_url('/assets/select2-develop/dist/js/select2.min.js') }}"></script>
    <script src="{{ absolute_url('/assets/menu/menu.js') }}"></script>
    <script src="{{ absolute_url('/assets/js/app.js') }}"></script>
    <script src="{{ absolute_url('/assets/js/particular.js') }}"></script>
    <script src="{{ absolute_url('/assets/form-multistep/form-step.js') }}"></script>
    <script src='{{ absolute_url('/assets/js/emoji/inputEmoji.js') }}'></script>
    <script src='{{ absolute_url('/assets/js/emoji/ajax-list-emoji.js') }}'></script>

    {% endblock %}